
@layer base {
  @media (max-width: 768px) {
    html, body {
      height: 100%;
      width: 100%;
      overflow-x: hidden;
      overflow-y: hidden;
      position: relative;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    #root {
      height: 100vh;
      overflow: hidden;
    }
    
    body.form-overlay-open {
      overflow: hidden;
      position: fixed;
      width: 100%;
      height: 100%;
    }

    /* Remove tap highlights */
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }

    /* Improve touch scrolling */
    .mobile-scroll {
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
    }
  }
}

@layer utilities {
  /* Safe area utilities - Enhanced for all devices */
  .safe-area-pb {
    padding-bottom: max(env(safe-area-inset-bottom), 0.5rem);
  }

  .safe-area-pt {
    padding-top: max(env(safe-area-inset-top), 0rem);
  }

  .safe-area-px {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Mobile container system - Edge to edge */
  .mobile-container {
    @apply w-full mx-auto px-0;
  }

  .mobile-container-padded {
    @apply w-full mx-auto px-3;
  }

  .mobile-container-minimal {
    @apply w-full mx-auto px-1;
  }

  /* Mobile spacing system - Compact and efficient */
  .mobile-spacing {
    @apply space-y-2;
  }

  .mobile-spacing-tight {
    @apply space-y-1;
  }

  .mobile-spacing-loose {
    @apply space-y-3;
  }

  /* Touch-optimized interactive elements */
  .touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }

  .touch-target-large {
    @apply min-h-[56px] min-w-[56px] flex items-center justify-center;
  }

  /* Mobile card system - Edge to edge with internal padding */
  .mobile-card {
    @apply rounded-none bg-background/40 backdrop-blur-sm border-0 border-b border-gold/5 mx-0 p-3;
  }

  .mobile-card-rounded {
    @apply rounded-lg bg-background/40 backdrop-blur-sm border border-gold/10 mx-2 p-3;
  }

  .mobile-card-compact {
    @apply rounded-lg bg-background/40 backdrop-blur-sm border border-gold/10 mx-1 p-2;
  }

  /* Mobile grid systems - Responsive and touch-friendly */
  .mobile-grid-1 {
    @apply grid grid-cols-1 gap-2;
  }

  .mobile-grid-2 {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-2;
  }

  .mobile-grid-auto {
    @apply grid grid-cols-[repeat(auto-fit,minmax(160px,1fr))] gap-2;
  }

  /* Mobile typography - Optimized for readability */
  .mobile-heading {
    @apply text-lg font-semibold leading-tight;
  }

  .mobile-subheading {
    @apply text-base font-medium leading-snug;
  }

  .mobile-body {
    @apply text-sm leading-relaxed;
  }

  .mobile-caption {
    @apply text-xs leading-normal;
  }

  /* Mobile interaction feedback */
  .mobile-touch-feedback {
    @apply active:scale-95 transition-transform duration-100;
  }

  .mobile-tap-highlight {
    -webkit-tap-highlight-color: rgba(255, 215, 0, 0.1);
  }

  /* Full width content - No margins */
  .mobile-full-width {
    @apply w-full px-0 mx-0;
  }

  .mobile-edge-to-edge {
    @apply w-full px-0 mx-0 -ml-0 -mr-0;
  }

  /* Section dividers */
  .mobile-section {
    @apply py-3 border-b border-gold/5 last:border-b-0;
  }

  .mobile-section-compact {
    @apply py-2 border-b border-gold/5 last:border-b-0;
  }

  /* Enhanced scroll areas */
  .mobile-scroll-area {
    @apply overflow-y-auto overflow-x-hidden;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Status indicator */
  .mobile-status-bar {
    height: env(safe-area-inset-top);
    background: var(--background);
  }
}

/* Mobile-specific overrides */
@media (max-width: 768px) {
  /* Form inputs - Prevent zoom on iOS */
  input[type="tel"],
  input[type="email"],
  input[type="number"],
  input[type="text"],
  select,
  textarea {
    font-size: 16px !important;
  }

  /* Button optimization */
  button,
  [role="button"],
  input[type="submit"],
  input[type="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Remove default button styles that interfere with touch */
  button:focus,
  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    ring: 2px;
    ring-color: rgba(255, 215, 0, 0.3);
  }

  /* Toast positioning for mobile */
  [data-sonner-toaster] {
    bottom: calc(env(safe-area-inset-bottom) + 5rem) !important;
  }
}

/* Landscape optimizations */
@media (max-width: 768px) and (orientation: landscape) {
  .mobile-landscape-compact {
    @apply py-1;
  }
  
  .mobile-header-landscape {
    height: 40px;
  }

  .mobile-spacing {
    @apply space-y-1;
  }
}

/* High DPI displays */
@media (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
  .mobile-crisp-images {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* Remove scrollbars on mobile for cleaner look */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    display: none;
  }
  
  * {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}
